{"version":3,"sources":["components/Header.jsx","redux/actions/header.js","components/InfoLoader.jsx","redux/actions/country.js","pages/CountryPage.jsx","components/Country.jsx","components/CountryLoader.jsx","components/SortBy.jsx","redux/actions/countries.js","pages/MainPage.jsx","redux/actions/filters.js","App.js","redux/redusers/countries.js","redux/redusers/filters.js","redux/redusers/country.js","redux/redusers/header.js","redux/redusers/index.js","redux/store.js","index.js"],"names":["Header","dispatch","useDispatch","activeTheme","useSelector","header","className","onClick","type","payload","InfoLoader","props","speed","width","height","viewBox","backgroundColor","foregroundColor","cx","cy","r","x","y","rx","ry","activeCountry","setActiveCountryItem","CountryPage","activeItem","country","item","isLoadeng","React","useEffect","axios","get","then","data","to","src","flag","alt","name","nativeName","population","region","subregion","capital","topLevelDomain","map","currencies","languages","borders","id","key","Country","onChangeCountry","alpha3Code","toLowerCase","CountryLoader","SortBy","sortItems","sortBy","onSelectRegion","useState","visiblePopap","setVisiblePopup","sortRef","useRef","activeLabel","find","obj","clickOutside","e","path","composedPath","includes","current","document","body","addEventListener","ref","fill","xmlns","d","index","setError","MainPage","items","countries","isLoaded","inputValue","error","history","useHistory","filters","inpValue","catch","err","fetchCounties","push","placeholder","value","onChange","text","setInputValue","sort","setSortBy","Array","_","App","component","initialState","state","action","initianState","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReduser","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.88379990.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setActiveTheme } from '../redux/actions/header';\r\n\r\nfunction Header() {\r\n  const dispatch = useDispatch();\r\n  const activeTheme = useSelector(({ header }) => header.activeTheme);\r\n\r\n  const changeTheme = () => {\r\n    dispatch(setActiveTheme(activeTheme));\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__title\">\r\n        <span>Where in the world?</span>\r\n      </div>\r\n      <div className=\"header__change-theme\">\r\n        <i className=\"fas fa-moon\"></i>\r\n        <span onClick={changeTheme}>Change Theme</span>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export const setActiveTheme = (payload) => ({\r\n  type: 'ACTIVE_THEME',\r\n  payload: payload,\r\n});\r\n","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\"\r\n\r\nconst InfoLoader = (props) => (\r\n  <ContentLoader \r\n    speed={2}\r\n    width={1050}\r\n    height={500}\r\n    viewBox=\"0 0 1050 500\"\r\n    backgroundColor=\"#f3f3f3\"\r\n    foregroundColor=\"#ecebeb\"\r\n    {...props}\r\n  >\r\n    <circle cx=\"10\" cy=\"20\" r=\"8\" /> \r\n    <rect x=\"25\" y=\"15\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" /> \r\n    <circle cx=\"10\" cy=\"50\" r=\"8\" /> \r\n    <rect x=\"25\" y=\"45\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" /> \r\n    <circle cx=\"10\" cy=\"80\" r=\"8\" /> \r\n    <rect x=\"25\" y=\"75\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" /> \r\n    <circle cx=\"10\" cy=\"110\" r=\"8\" /> \r\n    <rect x=\"25\" y=\"105\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" /> \r\n    <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"1050\" height=\"500\" />\r\n  </ContentLoader>\r\n)\r\n\r\nexport default InfoLoader","import axios from 'axios';\r\n\r\nexport const activeCountry = (payload) => ({\r\n  type: 'SET_ACTIVE_COUNTRY',\r\n  payload,\r\n});\r\nexport const setActiveCountryItem = (payload) => ({\r\n  type: 'SET_ACTIVE_COUNTRY_ITEM',\r\n  payload,\r\n});\r\n\r\nexport const setLoadingCountry = (payload) => ({\r\n  type: 'SET_LOADING_COUNTRY',\r\n  payload,\r\n});\r\n\r\nexport const fetchCountry = (country) => (dispatch) => {\r\n  dispatch(setLoadingCountry(false));\r\n  axios.get(`https://restcountries.eu/rest/v2/alpha/${country}`).then(({ data }) => {\r\n    dispatch(setActiveCountryItem(data));\r\n  });\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport InfoLoader from '../components/InfoLoader';\r\nimport { activeCountry, fetchCountry, setActiveCountryItem } from '../redux/actions/country';\r\n\r\nfunction CountryPage() {\r\n  const dispatch = useDispatch();\r\n  const activeItem = useSelector(({ country }) => country.activeItem);\r\n  const item = useSelector(({ country }) => country.item);\r\n  const isLoadeng = useSelector(({ country }) => country.isLoadeng);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchCountry(activeItem));\r\n  }, [activeItem]);\r\n\r\n  const onChangeCountry = (country) => {\r\n    dispatch(activeCountry(country));\r\n  };\r\n\r\n  const clearActiveItem = (country) => {\r\n    dispatch(setActiveCountryItem(country));\r\n    dispatch(activeCountry(''));\r\n  };\r\n  \r\n  return (\r\n    <main className=\"country\">\r\n      <div className=\"country__container\">\r\n        <div className=\"country__button\" onClick={() => clearActiveItem({})}>\r\n          <Link to=\"/\">\r\n            <i className=\"fas fa-arrow-left\"></i>Back\r\n          </Link>\r\n        </div>\r\n        <div className=\"country__content content\">\r\n          {isLoadeng ? (\r\n            <>\r\n              {' '}\r\n              <div className=\"content__img\">\r\n                <img src={item.flag} alt=\"\" />\r\n              </div>\r\n              <div className=\"content__text text\">\r\n                <div className=\"text__title\">{item.name}</div>\r\n                <div className=\"text__info\">\r\n                  <span>\r\n                    <b> Native Name: </b> {item.nativeName}\r\n                  </span>\r\n                  <span>\r\n                    <b>Population: </b> {item.population}\r\n                  </span>\r\n                  <span>\r\n                    <b>Region: </b> {item.region}\r\n                  </span>\r\n                  <span>\r\n                    <b>Sub Region: </b> {item.subregion}\r\n                  </span>\r\n                  <span>\r\n                    <b>Capital: </b> {item.capital}\r\n                  </span>\r\n                  <span>\r\n                    <b>Top Level Domain: </b>\r\n                    {item.topLevelDomain && item.topLevelDomain.map((item) => `${item}  `)}\r\n                  </span>\r\n                  <span>\r\n                    <b>Currencies: </b>{' '}\r\n                    {item.currencies && item.currencies.map((item) => `${item.name}  `)}\r\n                  </span>\r\n                  <span>\r\n                    <b>Languages: </b>{' '}\r\n                    {item.languages && item.languages.map((item) => `${item.name}  `)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"text__border-country\">\r\n                  <h2>Border countries</h2>\r\n                  {item.borders &&\r\n                    item.borders.map((item, id) => (\r\n                      <span key={id} onClick={() => onChangeCountry(item)}>\r\n                        {item}\r\n                      </span>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <InfoLoader />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default CountryPage;\r\n","import React from 'react';\r\n\r\nfunction Country({ item, onChangeCountry }) {\r\n  return (\r\n    <div\r\n      onClick={() => onChangeCountry(item.alpha3Code.toLowerCase())}\r\n      className=\"countries__item item\">\r\n      <div className=\"item__img\">\r\n        <img src={item.flag} alt=\"\" />\r\n      </div>\r\n      <div className=\"item__text\">\r\n        <p>{item.name}</p>\r\n        <span>\r\n          <b>Population : </b>\r\n          {item.population}\r\n        </span>\r\n        <span>\r\n          <b>Region : </b>\r\n          {item.region}\r\n        </span>\r\n        <span>\r\n          <b>Capital: </b>\r\n          {item.capital}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Country;\r\n","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\"\r\n\r\nconst CountryLoader = (props) => (\r\n  <ContentLoader \r\n    speed={2}\r\n    width={400}\r\n    height={415}\r\n    viewBox=\"0 0 400 415\"\r\n    backgroundColor=\"#f3f3f3\"\r\n    foregroundColor=\"#ecebeb\"\r\n    {...props}\r\n  >\r\n    <rect x=\"0\" y=\"0\" rx=\"19\" ry=\"19\" width=\"400\" height=\"415\" />\r\n  </ContentLoader>\r\n)\r\n\r\nexport default CountryLoader","import React from 'react';\r\n\r\nfunction SortBy({ sortItems, sortBy, onSelectRegion }) {\r\n  const [visiblePopap, setVisiblePopup] = React.useState(false);\r\n  const sortRef = React.useRef();\r\n  const activeLabel = sortItems.find((obj) => obj.type === sortBy).name;\r\n\r\n  const changeVisible = () => {\r\n    setVisiblePopup(!visiblePopap);\r\n  };\r\n\r\n  const clickOutside = (e) => {\r\n    const path = e.path || (e.composedPath && e.composedPath());\r\n    if (!path.includes(sortRef.current)) {\r\n      setVisiblePopup(false);\r\n    }\r\n  };\r\n  const onSelectItem = (index) => {\r\n    if (onSelectRegion) {\r\n      onSelectRegion(index);\r\n    }\r\n    setVisiblePopup(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    document.body.addEventListener('click', clickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sort\" ref={sortRef}>\r\n      <div className=\"sort__label\">\r\n        <svg\r\n          width=\"10\"\r\n          height=\"6\"\r\n          viewBox=\"0 0 10 6\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\r\n            fill=\"#2C2C2C\"\r\n          />\r\n        </svg>\r\n        <b>Сортировка по:</b>\r\n        <span onClick={changeVisible}>{activeLabel}</span>\r\n      </div>\r\n      {visiblePopap && (\r\n        <div className=\"sort__popup\">\r\n          <ul>\r\n            {sortItems.map((item, id) => (\r\n              <li onClick={() => onSelectItem(item.type)} key={`${item}_${id}`}>\r\n                {item.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SortBy;\r\n","import axios from 'axios';\r\n\r\nexport const setLoaded = (payload) => ({\r\n  type: 'SET_LOADED',\r\n  payload,\r\n});\r\n\r\nexport const setCountry = (items) => ({\r\n  type: 'SET_COUNTRIES',\r\n  payload: items,\r\n});\r\n\r\nexport const setInputValue = (text) => ({\r\n  type: 'SET_INPUT_VALUE',\r\n  payload: text,\r\n});\r\n\r\nexport const setError = (payload) => ({\r\n  type: 'SET_ERROR',\r\n  payload,\r\n});\r\n\r\nexport const fetchCounties = (sortBy, inputValue) => (dispatch) => {\r\n  dispatch(setLoaded(false));\r\n  dispatch(setError(false));\r\n  axios\r\n    .get(\r\n      `https://restcountries.eu/rest/v2/${sortBy === 'all' && inputValue === '' ? 'all' : ``}${\r\n        sortBy !== 'all' && inputValue === '' ? `region/${sortBy}` : ''\r\n      }${inputValue !== '' ? `name/${inputValue}` : ''}`,\r\n    )\r\n    .then(({ data }) => {\r\n      dispatch(setCountry(data));\r\n    })\r\n    .catch((err) => {\r\n      dispatch(setError(true));\r\n    });\r\n};\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Country from '../components/Country';\r\nimport CountryLoader from '../components/CountryLoader';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SortBy from '../components/SortBy';\r\nimport { fetchCounties, setInputValue } from '../redux/actions/countries';\r\nimport { setSortBy } from '../redux/actions/filters';\r\nimport { activeCountry } from '../redux/actions/country';\r\n\r\nconst sortItems = [\r\n  { name: 'Show all', type: 'all' },\r\n  { name: 'Africa', type: 'africa' },\r\n  { name: 'America', type: 'americas' },\r\n  { name: 'Asia', type: 'asia' },\r\n  { name: 'Europe', type: 'europe' },\r\n  { name: 'Oceania', type: 'oceania' },\r\n];\r\n\r\nfunction MainPage() {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const items = useSelector(({ countries }) => countries.items);\r\n  const isLoaded = useSelector(({ countries }) => countries.isLoaded);\r\n  const inputValue = useSelector(({ countries }) => countries.inputValue);\r\n  const error = useSelector(({ countries }) => countries.error);\r\n\r\n  let history = useHistory();\r\n\r\n  const sortBy = useSelector(({ filters }) => filters.sortBy);\r\n\r\n  const inpValue = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchCounties(sortBy, inputValue));\r\n  }, [sortBy, inputValue]);\r\n\r\n  const onSelectRegion = (sort) => {\r\n    dispatch(setSortBy(sort));\r\n  };\r\n\r\n  const onChangeCountry = (country) => {\r\n    dispatch(activeCountry(country));\r\n    history.push('/country');\r\n  };\r\n\r\n  const onChangeInput = () => {\r\n    let text = inpValue.current.value;\r\n    dispatch(setInputValue(text));\r\n  };\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <div className=\"main__inputs \">\r\n        <input\r\n          ref={inpValue}\r\n          placeholder=\"Search for a country...\"\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={onChangeInput}\r\n        />\r\n        <SortBy sortItems={sortItems} sortBy={sortBy} onSelectRegion={onSelectRegion} />\r\n      </div>\r\n      <div className=\"main__countries countries\">\r\n        {error ? (\r\n          <p>Not found</p>\r\n        ) : isLoaded ? (\r\n          items.map((item, id) => (\r\n            <Country onChangeCountry={onChangeCountry} key={`${item.name}__${id}`} item={item} />\r\n          ))\r\n        ) : (\r\n          Array(10)\r\n            .fill(0)\r\n            .map((_, id) => <CountryLoader key={id} />)\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","export const setSortBy = (sort) => ({\r\n  type: 'SET_SORT_BY',\r\n  payload: sort,\r\n});\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Header from './components/Header';\r\nimport CountryPage from './pages/CountryPage';\r\nimport MainPage from './pages/MainPage';\r\n\r\nfunction App() {\r\n  const activeTheme = useSelector(({ header }) => header.activeTheme);\r\n  return (\r\n    <div className={activeTheme ? 'light' : 'dark'}>\r\n      <Header />\r\n      <Switch>\r\n        <Route path=\"/country\" component={CountryPage}  />\r\n        <Route path=\"/\" component={MainPage}  />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const initialState = {\r\n  items: [],\r\n  isLoaded: false,\r\n  inputValue: '',\r\n  error: false,\r\n};\r\n\r\nconst countries = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_COUNTRIES':\r\n      return {\r\n        ...state,\r\n        items: [...action.payload],\r\n        isLoaded: true,\r\n      };\r\n    case 'SET_LOADED':\r\n      return {\r\n        ...state,\r\n        isLoaded: action.payload,\r\n      };\r\n    case 'SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    case 'SET_INPUT_VALUE':\r\n      return {\r\n        ...state,\r\n        inputValue: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default countries;\r\n","const initianState = {\r\n  sortBy: 'all',\r\n};\r\n\r\nconst filters = (state = initianState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_SORT_BY':\r\n      return {\r\n        sortBy: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default filters;\r\n","const initialState = {\r\n  item: {},\r\n  activeItem: '',\r\n  isLoadeng: false,\r\n};\r\n\r\nconst country = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_ACTIVE_COUNTRY':\r\n      return {\r\n        ...state,\r\n        activeItem: action.payload,\r\n      };\r\n    case 'SET_ACTIVE_COUNTRY_ITEM':\r\n      return {\r\n        ...state,\r\n        item: action.payload,\r\n        isLoadeng: true,\r\n      };\r\n    case 'SET_LOADING_COUNTRY':\r\n      return {\r\n        ...state,\r\n        isLoadeng: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default country;\r\n","const initialState = {\r\n  activeTheme: true,\r\n};\r\n\r\nconst header = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ACTIVE_THEME':\r\n      return {\r\n        activeTheme: !action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default header;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport countries from './countries';\r\nimport filters from './filters';\r\nimport country from './country';\r\nimport header from './header';\r\n\r\nexport default combineReducers({\r\n  countries,\r\n  filters,\r\n  country,\r\n  header,\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReduser from './redusers';\r\nimport thunk from 'redux-thunk'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReduser,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport store from './redux/store';\r\n\r\nimport './styles/index.scss';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}